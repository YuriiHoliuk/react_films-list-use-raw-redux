{"version":3,"sources":["store/index.js","store/redux.js","components/FilmCard/FilmCard.js","components/FilmsList/FilmsList.js","components/FormField/FormField.js","validation.js","components/NewFilm/NewFilm.js","components/FilmDetails/FilmDetails.js","App.js","data.js","index.js"],"names":["ACTION_TYPES","ADD_NEW_FILM","addNewFilm","film","type","payload","initialState","films","store","reducer","state","listeners","getState","dispatch","action","forEach","listener","subscribe","cb","Error","push","filter","createStore","arguments","length","undefined","_objectSpread","concat","Object","toConsumableArray","id","FilmCard","props","title","description","imgUrl","imdbUrl","react_default","a","createElement","react_router_dom","to","className","src","alt","href","defaultProps","FilmsList","_Component","_getPrototypeOf2","_this","classCallCheck","this","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","filmsList","unSubscribe","setFilmsList","setState","inherits","createClass","key","value","map","FilmCard_FilmCard_FilmCard","assign","Component","FormField","memo","error","name","label","onChange","placeholder","inputClass","cx","is-danger","controlClass","has-icons-right","Control","htmlFor","required","formValidators","NewFilm","handleChange","_ref","_ref$target","target","prevState","defineProperty","handleSubmit","e","preventDefault","onAdd","formValue","getFormValue","_this$validate","validate","hasError","errors","newState","_ref3","_ref4","slicedToArray","fromEntries","entries","reduce","acc","entry","NewFilm_objectSpread","_ref5","_ref6","fieldData","validator","some","errorData","_this$state","onSubmit","FormField_FormField","FilmDetails","filmDetails","find","item","String","match","params","setFilmDetails","API_URL","App","searchWord","handleAddFilm","newFilm","handleSearchChange","searchFilm","fetch","then","response","json","data","Title","Plot","Poster","Website","_this2","onClick","react_router","exact","path","component","NewFilm_NewFilm","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.7684a48e.chunk.js","sourcesContent":["import { createStore } from './redux';\n\nconst ACTION_TYPES = {\n  ADD_NEW_FILM: 'FILM::ADD',\n};\n\nexport const addNewFilm = film => ({\n  type: ACTION_TYPES.ADD_NEW_FILM,\n  payload: film,\n});\n\nconst initialState = {\n  films: [],\n};\n\nfunction reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case ACTION_TYPES.ADD_NEW_FILM: {\n      return {\n        ...state,\n        films: [\n          ...state.films,\n          {\n            ...action.payload,\n            id: state.films.length,\n          },\n        ],\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport const store = createStore(reducer);\n\n// console.log('STATE', store.getState());\n//\n// const unsubscribe1 = store.subscribe((state) => {\n//   console.log(state.films.map(({ title }) => title));\n// });\n//\n// store.dispatch(addNewFilm({ title: 'Avengers' }));\n//\n// store.subscribe((state) => {\n//   console.log(state.films);\n// });\n// unsubscribe1();\n//\n// store.dispatch(addNewFilm({ title: 'Spider-Man' }));\n//\n// console.log('STATE', store.getState());\n","export function createStore(reducer) {\n  let state = reducer();\n  let listeners = [];\n\n  return {\n    getState() {\n      return state;\n    },\n    dispatch(action) {\n      state = reducer(state, action);\n\n      listeners.forEach(listener => listener(state));\n    },\n    subscribe(cb) {\n      if (typeof cb !== 'function') {\n        throw new Error('Callback should be a function');\n      }\n\n      listeners.push(cb);\n\n      return () => {\n        listeners = listeners\n          .filter(listener => listener !== cb);\n      };\n    },\n  };\n}\n","/* eslint-disable max-len */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport './FilmCard.scss';\nimport { Link } from 'react-router-dom';\n\nexport const FilmCard = (props) => {\n  const {\n    title,\n    description,\n    imgUrl,\n    imdbUrl,\n    id,\n  } = props;\n\n  return (\n    <Link to={`/film/${id}`} className=\"card\">\n      <div className=\"card-image\">\n        <figure className=\"image is-4by3\">\n          <img\n            src={imgUrl}\n            alt=\"Film logo\"\n          />\n        </figure>\n      </div>\n      <div className=\"card-content\">\n        <div className=\"media\">\n          <div className=\"media-left\">\n            <figure className=\"image is-48x48\">\n              <img\n                src=\"https://images-na.ssl-images-amazon.com/images/I/315W5zxAnTL._SY355_.png\"\n                alt=\"imdb\"\n              />\n            </figure>\n          </div>\n          <div className=\"media-content\">\n            <p className=\"title is-4\">{title}</p>\n          </div>\n        </div>\n\n        <div className=\"content\">\n          {description}\n          <br />\n          <a href={imdbUrl}>IMDB</a>\n        </div>\n      </div>\n    </Link>\n  );\n};\n\nFilmCard.propTypes = {\n  title: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  description: PropTypes.string,\n  imgUrl: PropTypes.string.isRequired,\n  imdbUrl: PropTypes.string.isRequired,\n};\n\nFilmCard.defaultProps = {\n  description: '',\n};\n","/* eslint-disable react/prefer-stateless-function */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { store } from '../../store/index';\nimport './FilmsList.scss';\nimport { FilmCard } from '../FilmCard';\n\nexport class FilmsList extends Component {\n  state = {\n    filmsList: store.getState().films,\n  }\n\n  unSubscribe = null;\n\n  componentDidMount() {\n    this.unSubscribe = store.subscribe(this.setFilmsList);\n  }\n\n  componentWillUnmount() {\n    this.unSubscribe();\n  }\n\n  setFilmsList = () => {\n    this.setState({\n      filmsList: [...store.getState().films],\n    });\n  }\n\n  render() {\n    const { filmsList } = this.state;\n    return (\n      <div className=\"films\">\n        {filmsList.map(film => (\n          <FilmCard key={film.id} {...film} />\n        ))}\n      </div>\n    );\n  }\n}\n\nFilmsList.propTypes = {\n  films: PropTypes.arrayOf(PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    description: PropTypes.string,\n    imgUrl: PropTypes.string.isRequired,\n    imdbUrl: PropTypes.string.isRequired,\n  })),\n};\n\nFilmsList.defaultProps = {\n  films: [],\n};\n","import React, { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport './FormField.scss';\n\nexport const FormField = memo((props) => {\n  const {\n    error,\n    name,\n    label,\n    type,\n    onChange,\n    placeholder,\n    value,\n  } = props;\n\n  const inputClass = cx('input', { 'is-danger': !!error });\n  const controlClass = cx('control', { 'has-icons-right': !!error });\n\n  const Control = type === 'textarea' ? type : 'input';\n\n  return (\n    <div className=\"field\">\n      <label htmlFor={name} className=\"label\">\n        {label}\n      </label>\n      <div className={controlClass}>\n        <Control\n          name={name}\n          id={name}\n          className={inputClass}\n          type={type}\n          placeholder={placeholder}\n          value={value}\n          onChange={onChange}\n        />\n        {error && (\n          <span className=\"icon is-small is-right\">\n            <i className=\"fas fa-exclamation-triangle\" />\n          </span>\n        )}\n      </div>\n\n      {error && (\n        <p className=\"help is-danger\">{error}</p>\n      )}\n    </div>\n  );\n});\n\nFormField.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  type: PropTypes.string,\n  error: PropTypes.string,\n  placeholder: PropTypes.string,\n};\n\nFormField.defaultProps = {\n  error: '',\n  type: 'text',\n  placeholder: 'Type text here',\n};\n","export const required = (name, value) => {\n  return value\n    ? null\n    : `Field ${name} is required`;\n};\n","/* eslint-disable no-shadow */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormField } from '../FormField';\nimport { required } from '../../validation';\n\nconst initialState = {\n  title: {\n    value: '',\n    error: null,\n  },\n  description: {\n    value: '',\n    error: null,\n  },\n  imgUrl: {\n    value: '',\n    error: null,\n  },\n  imdbUrl: {\n    value: '',\n    error: null,\n  },\n};\n\nconst formValidators = {\n  title: required,\n  imgUrl: required,\n  imdbUrl: required,\n};\n\nexport class NewFilm extends Component {\n  state = initialState;\n\n  getFormValue() {\n    return Object.entries(this.state)\n      .reduce((acc, entry) => ({\n        ...acc,\n        [entry[0]]: entry[1].value,\n      }), {});\n  }\n\n  handleChange = ({ target: { name, value } }) => {\n    this.setState(prevState => ({\n      [name]: {\n        value,\n        error: prevState[name].error,\n      },\n    }));\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    const { onAdd } = this.props;\n    const formValue = this.getFormValue();\n\n    const { hasError, errors } = this.validate();\n\n    if (hasError) {\n      this.setState((prevState) => {\n        const newState = errors.map(([name, error]) => [\n          name,\n          {\n            error,\n            value: prevState[name].value,\n          },\n        ]);\n\n        return Object.fromEntries(newState);\n      });\n    } else {\n      this.setState(initialState);\n      onAdd(formValue);\n    }\n  };\n\n  validate() {\n    const errors = Object.entries(this.state)\n      .map(([name, fieldData]) => {\n        const validator = formValidators[name];\n        const error = validator\n          ? validator(name, fieldData.value)\n          : null;\n\n        return [name, error];\n      });\n\n    const hasError = errors\n      .some(errorData => !!errorData[1]);\n\n    return {\n      hasError,\n      errors,\n    };\n  }\n\n  render() {\n    const {\n      title,\n      description,\n      imgUrl,\n      imdbUrl,\n    } = this.state;\n\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <FormField\n          {...title}\n          name=\"title\"\n          placeholder=\"Input film title\"\n          label=\"Title\"\n          onChange={this.handleChange}\n        />\n        <FormField\n          {...description}\n          type=\"textarea\"\n          name=\"description\"\n          placeholder=\"Input film description\"\n          label=\"Description\"\n          onChange={this.handleChange}\n        />\n        <FormField\n          {...imgUrl}\n          name=\"imgUrl\"\n          placeholder=\"Paste image url\"\n          label=\"Image url\"\n          onChange={this.handleChange}\n        />\n        <FormField\n          {...imdbUrl}\n          name=\"imdbUrl\"\n          placeholder=\"Paste IMDB url\"\n          label=\"IMDB url\"\n          onChange={this.handleChange}\n        />\n\n        <button\n          type=\"submit\"\n          className=\"button is-primary\"\n        >\n          Add film\n        </button>\n      </form>\n    );\n  }\n}\n\nNewFilm.propTypes = {\n  onAdd: PropTypes.func.isRequired,\n};\n","/* eslint-disable react/prop-types */\n/* eslint-disable react/destructuring-assignment */\n/* eslint-disable max-len */\nimport React, { Component } from 'react';\nimport { store } from '../../store/index';\n\nexport class FilmDetails extends Component {\n  state = {\n    filmDetails: store.getState()\n      .films.find(item => String(item.id) === this.props.match.params.id),\n  }\n\n  unSubscribe = null;\n\n  componentDidMount() {\n    this.unSubscribe = store.subscribe(this.setFilmDetails);\n  }\n\n  componentWillUnmount() {\n    this.unSubscribe();\n  }\n\n  setFilmDetails = () => {\n    const { match } = this.props;\n    this.setState({\n      filmDetails: store\n        .getState()\n        .films.find(item => String(item.id) === match.params.id),\n    });\n  }\n\n  render() {\n    const { filmDetails } = this.state;\n    const {\n      title,\n      description,\n      imgUrl,\n      imdbUrl,\n    } = filmDetails;\n\n    return (\n      <div className=\"card\">\n        <div className=\"card-image\">\n          <figure className=\"image is-4by3\">\n            <img\n              src={imgUrl}\n              alt=\"Film logo\"\n            />\n          </figure>\n        </div>\n        <div className=\"card-content\">\n          <div className=\"media\">\n            <div className=\"media-left\">\n              <figure className=\"image is-48x48\">\n                <img\n                  src=\"https://images-na.ssl-images-amazon.com/images/I/315W5zxAnTL._SY355_.png\"\n                  alt=\"imdb\"\n                />\n              </figure>\n            </div>\n            <div className=\"media-content\">\n              <p className=\"title is-4\">{title}</p>\n            </div>\n          </div>\n\n          <div className=\"content\">\n            {description}\n            <br />\n            <a href={imdbUrl}>IMDB</a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport './App.scss';\nimport {\n  HashRouter,\n  Switch,\n  Route,\n} from 'react-router-dom';\nimport { FilmsList } from './components/FilmsList';\nimport { NewFilm } from './components/NewFilm';\nimport { films } from './data';\nimport { store, addNewFilm } from './store/index';\nimport { FormField } from './components/FormField';\nimport { FilmDetails } from './components/FilmDetails';\n\nconst API_URL = 'http://www.omdbapi.com/?apikey=2f4a38c9&t=';\n\nstore.dispatch(addNewFilm(...films));\n\nexport class App extends Component {\n  state = {\n    searchWord: '',\n  };\n\n  componentDidMount() {\n    this.searchFilm('spider');\n  }\n\n  handleAddFilm = (newFilm) => {\n    store.dispatch(addNewFilm(newFilm));\n  };\n\n  handleSearchChange = ({ target }) => {\n    this.setState({ searchWord: target.value });\n  };\n\n  searchFilm = (searchWord) => {\n    fetch(`${API_URL}${searchWord}`)\n      .then(response => response.json())\n      .then((data) => {\n        const {\n          Title,\n          Plot,\n          Poster,\n          Website,\n        } = data;\n\n        const newFilm = {\n          title: Title,\n          description: Plot,\n          imgUrl: Poster,\n          imdbUrl: Website,\n        };\n\n        store.dispatch(addNewFilm(newFilm));\n      });\n  };\n\n  render() {\n    const { searchWord } = this.state;\n    return (\n      <HashRouter>\n        <div className=\"page\">\n          <div className=\"content\">\n            <div className=\"box\">\n              <FormField\n                value={searchWord}\n                name=\"searchWord\"\n                placeholder=\"Type search word\"\n                label=\"Search film\"\n                onChange={this.handleSearchChange}\n              />\n              <button\n                onClick={() => this.searchFilm(searchWord)}\n                type=\"button\"\n                className=\"button is-primary\"\n              >\n                Search film\n              </button>\n            </div>\n\n            <Switch>\n              <Route\n                exact\n                path=\"/\"\n                component={FilmsList}\n              />\n              <Route\n                exact\n                path=\"/film/:id\"\n                component={FilmDetails}\n              />\n            </Switch>\n          </div>\n          <div className=\"sidebar\">\n            <NewFilm onAdd={this.handleAddFilm} />\n          </div>\n        </div>\n      </HashRouter>\n    );\n  }\n}\n","/* eslint-disable max-len */\nexport const films = [{\n  title: 'Groundhog Day',\n  description: 'A weatherman finds himself inexplicably living the same day over and over again.',\n  imgUrl: 'https://m.media-amazon.com/images/M/MV5BZWIxNzM5YzQtY2FmMS00Yjc3LWI1ZjUtNGVjMjMzZTIxZTIxXkEyXkFqcGdeQXVyNjU0OTQ0OTY@._V1_SY1000_CR0,0,671,1000_AL_.jpg',\n  imdbUrl: 'https://www.imdb.com/title/tt0107048/',\n}];\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\nimport 'bulma/css/bulma.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}